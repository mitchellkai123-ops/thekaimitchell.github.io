<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kai Mitchell</title>
    <link rel="icon" href="images/skull.gif" type="image/gif">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        /* Simple Mode Button inside first section */
        #mode-toggle {
            position: absolute;
            bottom: 25%; /* roughly bottom third */
            left: 50%;
            transform: translateX(-50%);
            background-color: #02066f;
            color: yellow;
            font-family: 'Press Start 2P', monospace;
            border: 3px solid yellow;
            padding: 12px 24px;
            font-size: 12px;
            cursor: pointer;
            box-shadow: 4px 4px 0 rgba(0,0,0,0.5);
            z-index: 10;
        }
        
        #mode-toggle:hover {
            background-color: yellow;
            color: #02066f;
        }

        #mode-toggle:hover {
          background-color: yellow;
          color: #02066f;
        }

        body.simple-mode {
          overflow: hidden !important;
          position: fixed;
          width: 100%;
        }
        
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            color: yellow;
        }

        /* First section */
        .section1 {
            : relative;
            height: 100vh;
            width: 100vw;
            background-image: url('images/starry-space.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        
        /* Second section */
        .section2 {
            position: relative; 
            height: 100vh;
            width: 100vw;
            background-image: url('images/space-slide-2.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            margin: 0;
        }

        /* Third section */
        .section3 {
            position: relative;
            height: 100vh;
            width: 100vw;
            background-image: url('images/moon.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            margin: 0;
        }
    
        /* Divider PNG overlaying split */
        .divider {
            position: absolute;
            left: 0;
            width: 100%;
            z-index: 3;
            transform: translateY(-50%);
        }

        /* GIFs for first section */
        .left-gif {
            position: absolute;
            left: -5%;
            top: 45%;
            transform: translateY(-50%);
            width: 48%;
            z-index: 1;
        }

        .right-gif {
            position: absolute;
            right: 0%;
            top: 10%;
            width: 40%;
            z-index: 1;
        }

        /* Text container on top of GIFs */
        .text-container {
            position: relative;
            z-index: 2;
            text-align: center;
            top: -20px;
        }

        .text-container h1 {
            font-size: 4em;
            margin: 0;
        }

        .text-container p {
            font-size: 2em;
            margin: 0;
        }
        

        /* ---------- Section4 & Earth container ---------- */

.earth-container {
  position: relative;
  height: 100vh;
  width: 100vw;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
}

.earth-container img {
  height: 100%;
  width: auto;
  display: block;
}

.pin {
  position: absolute;
  width: 40px;
  height: 40px;
  background-image: url('images/pin-icon.webp');
  background-size: contain;
  background-repeat: no-repeat;
  transform: translate(-50%, -50%);
  cursor: pointer;
  z-index: 999;
}

/* ---------- Overlay & Popup ---------- */
 .popup-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5); /* dim */
  display: none;                 /* toggled via JS */
  justify-content: center;
  align-items: center;
  z-index: 9999;
  overflow: auto; /* allow scrolling page if popup larger than viewport */
 }

/* popup window */
 .popup {
  background: #c0c0c0;              /* retro grey */
  width: 60vw;
  height: 70vh;
  box-sizing: border-box;
  border: 6px solid #474747;       /* medium-thickness retro border */
  box-shadow: 6px 6px 0 rgba(0,0,0,0.35);
  display: flex;
  flex-direction: column;
  outline: none;                   /* focusable element removal of default */
  position: relative;
  z-index: 10000;
}

/* title bar */
.popup-header {
  height: 56px;
  background: #02066f;
  color: #ffffff;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px;
  box-sizing: border-box;
  border-bottom: 4px solid #000; /* extra retro separation */
  font-family: 'Press Start 2P', monospace;
  font-size: 14px;
  letter-spacing: 1px;
}

/* flag (left) */
.popup-flag {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}
.popup-flag img {
  height: 24px;
  width: auto;
  display: inline-block;
}

/* title center */
.popup-title {
  flex: 1;
  text-align: center;
  font-family: 'Press Start 2P', monospace;
  font-size: 14px;
  color: #fff;
}

/* close button (right) */
.popup-close {
  background: transparent;
  border: none;
  padding: 0;
  margin: 0;
  cursor: pointer;
}
.popup-close img {
  height: 28px;
  width: auto;
  display: block;
}

/* body with internal scrolling */
.popup-body {
  padding: 12px;
  box-sizing: border-box;
  overflow: auto;   /* internal scroll */
  flex: 1 1 auto;
}

/* gallery grid: responsive (2 columns desktop, 1 column on small screens) */
.gallery-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
}
.gallery-item img {
  width: 100%;
  height: auto;
  display: block;
  border: 4px solid #fff; /* retro postcard border */
  box-shadow: 0 2px 0 rgba(0,0,0,0.25);
  object-fit: cover;
}

/* responsive tweaks */
@media (max-width: 900px) {
  .popup { width: 90vw; height: 80vh; }
  .gallery-grid { grid-template-columns: 1fr; }
  .popup-header { font-size: 12px; }
  .pin { width: 40px; height: 40px; }
}

/* small accessibility helper to show popup when open */
.popup-overlay.show { display: flex; }

/* Simple Mode button */
#mode-toggle.simple {
    position: fixed;
    top: 20px;
    left: 20px;
    transform: none;
}
        
/* Visual Mode button inside section 1 */
#mode-toggle.visual {
    position: absolute;
    bottom: 25%;
    left: 50%;
    transform: translateX(-50%);
}

/* Simple Viewing Mode background */
body.simple-mode .section1 {
  background-image: url('images/starry-space.jpg');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: fixed;
  overflow: hidden;
  z-index: 10;
}

body.simple-mode, html.simple-mode {
  overflow: hidden; /* prevent whole page scrolling */
}

/* Hide all unnecessary content in Simple Mode */
body.simple-mode .text-container,
body.simple-mode .left-gif,
body.simple-mode .right-gif,
body.simple-mode #cd-text,
body.simple-mode .section2 > *:not([data-label]),
body.simple-mode .section3 > *:not([data-label]) {
    display: none !important;
}

/* Move Simple Mode button to top-left */
body.simple-mode #mode-toggle {
    position: fixed;
    top: 20px;
    left: 20px;
    bottom: auto;
    transform: none;
    display: block !important;
}

#simple-list ul {
    margin: 0;
    padding: 0;
}
        
#simple-list { z-index: 9998; }   /* slightly below popups */
.popup-overlay { z-index: 10001; }
.popup { z-index: 10002; }       /* one more than overlay to ensure top */
        
#simple-list li {
  margin-bottom: 20px; /* increase or decrease as needed */
  list-style: none; /* optional: removes bullets */
}


@media (hover: hover) {
    #mode-toggle.hover {
        background-color: yellow; 
        color: #02066f;             
    }
}

/* optional: prevent hover from applying on touch devices */
@media (hover: none) {
  #mode-toggle:hover {
    background-color: #02066f;
    color: yellow;
  }
}
    
    </style>
</head>
<body>
    <!-- First Section -->
    <div class="section1">
        <img src="images/7G3VU4WW2YY4OC4XVDBFQJO7D5G7B662.gif" alt="Left GIF" class="left-gif">
        <img src="images/saturn.gif" alt="Right GIF" class="right-gif">
        <div class="text-container">
            <h1>Kai Mitchell</h1>
            <p>Welcome to my site</p>
        </div>
    <!-- Simple Mode Toggle Button -->
        <button id="mode-toggle">Simple Viewing Mode</button>
        
    </div>

    <div id="svm-text" style="display:none; position:fixed; top:20%; left:50%; transform:translateX(-50%) translateY(-30%); color: yellow; z-index: 10001; font-weight: bold; text-align: center; font-size: 66px;">
    Kai Mitchell
    </div>

    <!-- Divider between section 1 and 2 -->
    <img src="images/39734795880.png" alt="Divider" class="divider" style="top:100vh;">

    <!-- Second Section -->
    <div class="section2">
        <!-- CD clickable link -->
        <div style="position:absolute; top:29%; left:80%; width: calc(6.4vw + 30px); text-align:center;">
            <div id="cd-text" style="color:cyan; font-size:15px; font-weight:bold; margin-bottom:10px;">
                click me!
            </div>
            <a href="https://music.apple.com/profile/kai_michell" target="_blank" data-label="Apple Music">
                <img id="cd-gif" src="images/cd.gif" style="width:100%;">
            </a>
        </div>

        <!-- Flynn Planet clickable link -->
        <a href="https://flynnconnolly.com" target="_blank" data-label="Flynn's Website!">
            <img src="images/flynn-planet.png" style="position:absolute; top: 45%; left: 25%; width: calc(9.01vw + 30px);">
        </a>

        <!-- Other GIFs -->
        <img src="images/high-def-ufo.gif" style="position:absolute; top: 15%; left: 70%; width: calc(7.048vw + 30px);">
        <img src="images/disco-ball.gif" style="position:absolute; top: 12%; left: 36%; width: calc(8.356vw + 30px);">
        <img src="images/death-star.gif" style="position:absolute; top: 15%; left: 10%; width: calc(7.7vw + 30px);">
        <img src="images/moving-ufo.gif" style="position:absolute; top: 44%; left: 48%; width: calc(44.08vw + 30px);">
        <img src="images/happy-star.gif" style="position:absolute; top: 75%; left: 85%; width: calc(6.394vw + 30px);">
        <img src="images/inverted-earth.gif" style="position:absolute; top: 55%; left: 6%; width: calc(7.7vw + 30px);">
        <img src="images/mars.gif" style="position:absolute; top: 82%; left: 37%; width: calc(5.74vw + 30px);">
        <img src="images/toy-ufo.gif" style="position:absolute; top: 68%; left: 60%; width: calc(7.7vw + 30px);">
        <img src="images/twinklingstar.gif" style="position:absolute; top: 68%; left: 78%; width: calc(1.3vw + 30px);">
    </div>

    <!-- Divider between section 2 and 3 -->
    <img src="images/light-saber.gif" alt="Divider" class="divider" style="top:200vh;">

    <!-- Third Section (Moon background) -->
    <div class="section3">
        <!-- LinkedIn clickable link -->
        <div style="position:absolute; top:35%; left:24%; width: calc(9.4vw + 30px); text-align:center;">
            <div style="color:white; font-size:15px; font-weight:bold; margin-bottom:-5px;">
                  add me!
            </div>
            <a href="https://www.linkedin.com/in/kai-m-mitchell/" target="_blank" data-label="LinkedIn">
                <img src="images/linkedin.png" style="width:100%;">
            </a>
        </div>

        <!-- Instagram clickable link -->
        <a href="https://www.instagram.com/kai._.mitchell/" target="_blank" data-label="Instagram">
            <img src="images/instagram.png" style="position:absolute; top: 50%; left: 7%; width: calc(9.01vw + 30px);">
        </a>

        <!-- Other GIFs -->
        <img src="images/USAflag.gif" loading="lazy" style="position:absolute; top: 60%; left: 63%; width: calc(3.048vw + 30px); transform: rotate(10deg);">
        <img src="images/Philippinesflag.gif" loading="lazy" style="position:absolute; top: 50%; left: 58%; width: calc(3.556vw + 30px); transform: rotate(-10deg);">
        <img src="images/rocket-circle.gif" loading="lazy" style="position:absolute; top: 69%; left: 28%; width: calc(7.7vw + 30px);">
        <img src="images/spacerock.gif" loading="lazy" style="position:absolute; top: 17%; left: 38%; width: calc(4.08vw + 30px);">
        <img src="images/earth.gif" loading="lazy" style="position:absolute; top: 15%; left: 10%; width: calc(7.394vw + 30px);">
        <img src="images/twinklingstar.gif" loading="lazy" style="position:absolute; top: 26%; left: 25%; width: calc(1.394vw + 30px);">
        <img src="images/twinklingstar.gif" loading="lazy" style="position:absolute; top: 63%; left: 18%; width: calc(1.394vw + 30px);">
        <img src="images/streetsign.png" style="position:absolute; top: 20%; left: 66%; width: calc(12.394vw + 70px);">
    </div>

    <!-- Divider between section 3 and 4 -->
    <img src="images/blue-glow.png" alt="Divider" class="divider" style="top:400vh;">

    <div class="earth-container">
        <img src="images/earthbackground.jpg" alt="Earth" class="earth-img">
        <div class="pin japan" id="pin-japan" data-target="popup-japan"></div>
        <div class="pin greece" id="pin-greece" data-target="popup-greece"></div>    
    </div>

    <!-- Popup Markup(s): you can add one popup per country -->
    <div class="popup-overlay" id="overlay">
        <!-- GREECE popup -->
        <div class="popup" role="dialog" aria-modal="true" aria-labelledby="popup-greece-title" id="popup-greece">
            <div class="popup-header">
                <div class="popup-flag">
                    <img src="images/flag-greece.png" alt="Greece flag (pixel)">
                </div>

                <div class="popup-title" id="popup-greece-title">GREECE!</div>

                <button class="popup-close" data-close>
                    <img src="images/pop-up-x.png" alt="Close">
                </button>
            </div>

            <div class="popup-body">
      <!-- image gallery: replace these with your actual filenames -->
                <div class="gallery-grid">
                    <div class="gallery-item"><img src="images/greece1.jpeg" alt="Greece 1"></div>
                    <div class="gallery-item"><img src="images/greece2.jpeg" alt="Greece 2"></div>
                    <div class="gallery-item"><img src="images/greece3.jpeg" alt="Greece 3"></div>
                    <div class="gallery-item"><img src="images/greece11.jpeg" alt="Greece 4"></div>
                    <div class="gallery-item"><img src="images/greece5.jpeg" alt="Greece 5"></div>
                    <div class="gallery-item"><img src="images/greece6.jpeg" alt="Greece 6"></div>
                    <div class="gallery-item"><img src="images/greece7.jpeg" alt="Greece 7"></div>
                    <div class="gallery-item"><img src="images/greece8.jpeg" alt="Greece 8"></div>
                    <div class="gallery-item"><img src="images/greece9.jpeg" alt="Greece 9"></div>
                    <div class="gallery-item"><img src="images/greece10.jpeg" alt="Greece 10"></div>
                    <div class="gallery-item"><img src="images/greece4.jpeg" alt="Greece 10"></div>
                </div>
            </div>
        </div>

        <!-- JAPAN popup -->
        <div class="popup" role="dialog" aria-modal="true" aria-labelledby="popup-japan-title" id="popup-japan">
            <div class="popup-header">
                <div class="popup-flag">
                    <img src="images/flag-japan.png" alt="Japan flag (pixel)">
                </div>

                <div class="popup-title" id="popup-japan-title">JAPAN!</div>

                <button class="popup-close" data-close>
                    <img src="images/pop-up-x.png" alt="Close">
                </button>
            </div>

            <div class="popup-body">
      <!-- image gallery: replace these with your actual filenames -->
                <div class="gallery-grid">
                    <div class="gallery-item"><img src="images/japan1.webp" alt="Japan 1"></div>
                    <div class="gallery-item"><img src="images/japan2.webp" alt="Japan 2"></div>
                    <div class="gallery-item"><img src="images/japan3.webp" alt="Japan 3"></div>
                    <div class="gallery-item"><img src="images/japan4.webp" alt="Japan 4"></div>
                    <div class="gallery-item"><img src="images/japan12.webp" alt="Japan 8"></div>
                    <div class="gallery-item"><img src="images/japan6.webp" alt="Japan 6"></div>
                    <div class="gallery-item"><img src="images/japan7.webp" alt="Japan 7"></div>
                    <div class="gallery-item"><img src="images/japan8.webp" alt="Japan 5"></div>
                    <div class="gallery-item"><img src="images/japan9.webp" alt="Japan 9"></div>
                    <div class="gallery-item"><img src="images/japan10.webp" alt="Japan 10"></div>
                    <div class="gallery-item"><img src="images/japan11.webp" alt="Japan 11"></div>
                    <div class="gallery-item"><img src="images/japan13.webp" alt="Japan 12"></div>
                    <div class="gallery-item"><img src="images/japan5.webp" alt="Japan 13"></div>
                    <div class="gallery-item"><img src="images/japan14.webp" alt="Japan 14"></div>
                    <div class="gallery-item"><img src="images/japan15.webp" alt="Japan 15"></div>
                    <div class="gallery-item"><img src="images/japan16.webp" alt="Japan 16"></div>
                    <div class="gallery-item"><img src="images/japan17.webp" alt="Japan 17"></div>
                    <div class="gallery-item"><img src="images/japan18.webp" alt="Japan 18"></div>
                    <div class="gallery-item"><img src="images/japan19.webp" alt="Japan 19"></div>
                    <div class="gallery-item"><img src="images/japan20.webp" alt="Japan 20"></div>
                    <div class="gallery-item"><img src="images/japan21.webp" alt="Japan 21"></div>
                    <div class="gallery-item"><img src="images/japan22.webp" alt="Japan 22"></div>
                    <div class="gallery-item"><img src="images/japan23.webp" alt="Japan 23"></div>
                    <div class="gallery-item"><img src="images/japan24.webp" alt="Japan 24"></div>
                    <div class="gallery-item"><img src="images/japan25.webp" alt="Japan 25"></div>
                    <div class="gallery-item"><img src="images/japan26.webp" alt="Japan 26"></div>
                    <div class="gallery-item"><img src="images/japan27.webp" alt="Japan 27"></div>
                    <div class="gallery-item"><img src="images/japan28.webp" alt="Japan 28"></div>
                    <div class="gallery-item"><img src="images/japan29.webp" alt="Japan 29"></div>
                    <div class="gallery-item"><img src="images/japan30.webp" alt="Japan 30"></div>
                    <div class="gallery-item"><img src="images/japan31.webp" alt="Japan 1"></div>
                    <div class="gallery-item"><img src="images/japan32.webp" alt="Japan 2"></div>
                    <div class="gallery-item"><img src="images/japan33.webp" alt="Japan 3"></div>
                    <div class="gallery-item"><img src="images/japan34.webp" alt="Japan 4"></div>
                    <div class="gallery-item"><img src="images/japan35.webp" alt="Japan 5"></div>
                    <div class="gallery-item"><img src="images/japan36.webp" alt="Japan 6"></div>
                    <div class="gallery-item"><img src="images/japan37.webp" alt="Japan 7"></div>
                    <div class="gallery-item"><img src="images/japan38.webp" alt="Japan 8"></div>
                    <div class="gallery-item"><img src="images/japan39.webp" alt="Japan 9"></div>
                    <div class="gallery-item"><img src="images/japan40.webp" alt="Japan 10"></div>
                    <div class="gallery-item"><img src="images/japan41.webp" alt="Japan 1"></div>
                    <div class="gallery-item"><img src="images/japan42.webp" alt="Japan 2"></div>
                    <div class="gallery-item"><img src="images/japan43.webp" alt="Japan 3"></div>
                    <div class="gallery-item"><img src="images/japan44.webp" alt="Japan 4"></div>
                    <div class="gallery-item"><img src="images/japan45.webp" alt="Japan 5"></div>
                    <div class="gallery-item"><img src="images/japan46.webp" alt="Japan 6"></div>
                    <div class="gallery-item"><img src="images/japan47.webp" alt="Japan 7"></div>
                    <div class="gallery-item"><img src="images/japan48.webp" alt="Japan 8"></div>
                    <div class="gallery-item"><img src="images/japan49.webp" alt="Japan 9"></div>
                    <div class="gallery-item"><img src="images/japan50.webp" alt="Japan 10"></div>
                    <div class="gallery-item"><img src="images/japan51.webp" alt="Japan 1"></div>
                    <div class="gallery-item"><img src="images/japan52.webp" alt="Japan 2"></div>
                    <div class="gallery-item"><img src="images/japan53.webp" alt="Japan 3"></div>
                    <div class="gallery-item"><img src="images/japan54.webp" alt="Japan 4"></div>
                    <div class="gallery-item"><img src="images/japan55.webp" alt="Japan 5"></div>
                </div>
            </div>
        </div>
    </div>


<script>


const pins = {
    japan: { offsetX: 0.12, offsetY: -0.13, rotate: 10 },
    greece: { offsetX: -0.15, offsetY: -0.12, rotate: 160 }
};

function positionPins() {
    const earthImg = document.querySelector('.earth-container img.earth-img');
    if (!earthImg) return;

    // Get the position and size of the image
    const rect = earthImg.getBoundingClientRect();
    const centerX = rect.left + rect.width / 2 + window.scrollX;
    const centerY = rect.top + rect.height / 2 + window.scrollY;


    for (const [country, coords] of Object.entries(pins)) {
        const pin = document.querySelector(`.pin.${country}`);
        if (!pin) continue;

        // Offsets are now proportional to image dimensions
        const offsetXPx = coords.offsetX * rect.height;
        const offsetYPx = coords.offsetY * rect.height;


        pin.style.left = `${centerX + offsetXPx}px`;
        pin.style.top = `${centerY + offsetYPx}px`;
        pin.style.transform = `translate(-50%, -50%) rotate(${coords.rotate}deg)`;
    }
}


window.addEventListener('resize', positionPins);
window.addEventListener('load', positionPins);


    
// open popup when pin clicked
document.addEventListener('click', function(e) {
  // pins
  const pin = e.target.closest('.pin');
  if (pin) { openPopup(pin.getAttribute('data-target')); }

  // SVM popup links
  const popupLink = e.target.closest('[data-popup]');
  if (popupLink) {
    e.preventDefault();
    openPopup(popupLink.getAttribute('data-popup'));
  }

  // close button
  if (e.target.closest('[data-close]')) closePopup();

  // click outside popup
  const overlay = document.getElementById('overlay');
  if (overlay?.classList.contains('show') && !e.target.closest('.popup') && e.target.closest('#overlay')) closePopup();
});

// open function
function openPopup(id) {
  const overlay = document.getElementById('overlay');
  const popup = document.getElementById(id);
  if (!overlay || !popup) return;
  // hide any currently-open popups
  Array.from(overlay.querySelectorAll('.popup')).forEach(p => p.style.display = 'none');
  popup.style.display = 'flex'; // ensure displayed
  overlay.classList.add('show');
  // focus for accessibility
  setTimeout(() => popup.focus && popup.focus(), 50);
}

// close when clicking X or clicking outside popup
document.addEventListener('click', function(e) {
  // close button
  if (e.target.closest('[data-close]')) {
    closePopup();
    return;
  }
  // click outside popup
  const overlay = document.getElementById('overlay');
  if (overlay && overlay.classList.contains('show')) {
    const inside = e.target.closest('.popup');
    if (!inside && e.target.closest('#overlay')) {
      closePopup();
    }
  }
});

// ESC to close
document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') closePopup();
});

function closePopup() {
  const overlay = document.getElementById('overlay');
  if (!overlay) return;
  overlay.classList.remove('show');
  Array.from(overlay.querySelectorAll('.popup')).forEach(p => p.style.display = 'none');
}

let simpleMode = false;

const links = [
  { text: "Resume", url: "https://docs.google.com/document/d/1Cz3ejhUNQtdBSGaBaF9coz_Gjt_xv3XMFN_uzu7-iYE/edit?usp=sharing" },
  { text: "Apple Music", url: "https://music.apple.com/profile/kai_michell" },
  { text: "LinkedIn", url: "https://www.linkedin.com/in/kai-m-mitchell/" },
  { text: "Instagram", url: "https://www.instagram.com/kai._.mitchell/" },
  { text: "Flynns Website", url: "flynnconnolly.com" },
  { text: "Greece (photos)", popup: "popup-greece" },
  { text: "Japan (photos)", popup: "popup-japan" }
];

const simpleList = document.createElement('div');
simpleList.id = "simple-list";
simpleList.style.display = "none";
simpleList.style.position = "fixed";
simpleList.style.top = "36%";
simpleList.style.left = "50%";
simpleList.style.transform = "translateX(-50%)";
simpleList.style.zIndex = "9999";
simpleList.style.textAlign = "center";
simpleList.style.fontFamily = "'Press Start 2P', monospace";
simpleList.style.fontSize = "14px";
simpleList.style.color = "yellow";
document.body.insertBefore(simpleList, document.getElementById('overlay'));

document.getElementById('mode-toggle').addEventListener('click', () => {
  simpleMode = !simpleMode;
  const body = document.body;
  const button = document.getElementById('mode-toggle');

  if (simpleMode) {
        button.innerText = "Visual Mode";
        body.classList.add('simple-mode');

        document.querySelectorAll('.text-container, .left-gif, .right-gif, .section2 div, .section3 div, #cd-text').forEach(el => {
            if (el) el.style.display = 'none';
        });

        document.querySelectorAll('.pin').forEach(el => {
            if (el) el.style.display = 'block';
        });

        if (simpleList) {
            simpleList.style.display = 'block';
            simpleList.innerHTML = "<ul>" + links.map(link => {
                if (link.url) {
                    return `<li><a href="${link.url}" target="_blank" style="color: cyan;">${link.text}</a></li>`;
                } else {
                    return `<li><a href=\"#\" data-popup=\"${link.popup}\" style=\"color: cyan;\">${link.text}</a></li>`;
                }
            }).join('') + "</ul>";
        }

    button.classList.add('simple');
    button.classList.remove('visual');

  } else {
    // Simple Mode OFF
    button.innerText = "Simple Viewing Mode";
    body.classList.remove('simple-mode');
    body.style.backgroundImage = '';
    body.querySelectorAll('.text-container, .left-gif, .right-gif, .section2 div, .section3 div, .pin, #cd-text, img').forEach(el => el.style.display = '');
    simpleList.style.display = 'none';

    button.classList.remove('simple');
    button.classList.add('visual');
  }
});

    // Toggle SVM text display when simpleMode changes
    function updateSVMText() {
        const svmText = document.getElementById('svm-text');
        if (simpleMode) {
            svmText.style.display = 'block';
        } else {
            svmText.style.display = 'none';
        }
    }

    // Hook into your existing toggle button
    const modeToggle = document.getElementById('mode-toggle');
    modeToggle.addEventListener('click', () => {
        // simpleMode toggling already happens elsewhere
        // just update the text display
        setTimeout(updateSVMText, 50); // wait for simpleMode to toggle
    });
    
// single listener for SVM popup links and pins
document.addEventListener('click', function(e) {
  const pin = e.target.closest('.pin');
  if (pin) openPopup(pin.dataset.target);

  const popupLink = e.target.closest('[data-popup]');
  if (popupLink) {
    e.preventDefault();
    openPopup(popupLink.dataset.popup);
  }

  if (e.target.closest('[data-close]')) closePopup();

  const overlay = document.getElementById('overlay');
  if (overlay?.classList.contains('show') && !e.target.closest('.popup') && e.target.closest('#overlay')) {
    closePopup();
  }
});
</script>

</body>
</html>
